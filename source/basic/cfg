{
    "variables": {
        ".*": {
            "<public_includes>": ["include"],
            "<includes>": ["include", "header"]
        },
        "windows" : {
        },
        "linux|macos" : {
        }
    },
    "projects": [{
        "variables": {
            ".*": {
                "<name>": "basic"
            },
            "windows" : {
                "<cflags>": ["/O2", "/W4"],
                "<copy_includes>" : [
                    "copy include/*.h ../include/",
                    "attrib +r ../include/*.*"
                ]
            },
            "linux|macos" : {
                "<cflags>": ["-O2", "-Wall"],
                "<copy_includes>" : [
                    "cp include/*.h ../include/",
                    "chmod u-w ../include/*.*"
                ]
            }
        },
        "name": "<name>",
        "dependency": [],
        "public": {
            "c": {
                "include": "<public_includes>"
            },
            "cpp": {
                "include": "<public_includes>"
            },
            "linker": {
                "static": "<name>"
            }
        },
        "build": {
            "compiler" : {
                ".*": {
                    "c": {
                        "flags": "<cflags>",
                        "include": "<includes>",
                        "source/.*\\.c": ""
                     },
                     "cpp": {
                        "flags": "<cflags>",
                        "include": "<includes>",
                        "source/.*\\.cpp": ""
                     }
                },
                ".*x86.*": {
                    "asm": {
                        "flags": "",
                        "source/x86/.*\\.asm": "yasm"
                    },
                    "c": {
                        "flags": "<cflags>",
                        "include": "<includes>",
                        "source/x86/.*\\.c": ""
                    }
                },
                ".*arm.*": {
                    "c": {
                        "flags": ["-march=armv7-a", "<cflags>"],
                        "include": "<includes>",
                        "arm/.*\\.c": ""
                    }
                }
            },
            "linker" : {
                ".*": {
                    "name": "<name>",
                    "type": "static",
                    "input": []
                }
            },
            "shell" : {
                ".*": "<copy_includes>"
            }
        }
    }]
}
