{
  "variables": {
    "host:.*": {
      "<public_includes>": [ "include" ],
      "<includes>": [ "include", "header" ]
    },
    "host:windows": {
    },
    "host:linux|macos": {
    }
  },
  "projects": {
    "basic": {
      "variables": {
        "host:.*": {
          "<name>": "basic"
        },
        "host:windows": {
          "<cflags>": [ "/O2", "/W4" ],
          "<copy_includes>": [
            "copy include/*.h ../include/",
            "attrib +r ../include/*.*"
          ]
        },
        "host:linux|macos": {
          "<cflags>": [ "-O2", "-Wall" ],
          "<copy_includes>": [
            "cp include/*.h ../include/",
            "chmod u-w ../include/*.*"
          ]
        }
      },
      "dependency": [
        "::hal",
        "../basic/cfg::hal"
      ],
      "public": {
        "c": {
          "include": "<public_includes>"
        },
        "cpp": {
          "include": "<public_includes>"
        },
        "linker": {
          "static": "<name>"
        }
      },
      "build": [
        {
          "compiler": {
            "target:.*" : [
              {
                "flags": "<cflags>",
                "include": "<includes>",
                "source": [
                  "./**/*.c"
                ],
                "toolset": "",
                "type": "c"
              },
              {
                "flags": "<cflags>",
                "include": "<includes>",
                "source": [
                  "./**/*.c"
                ],
                "toolset": "msvc2015",
                "type": "c"
              },
              {
                "flags": "<cflags>",
                "include": "<includes>",
                "source": [
                  "./**/*.cpp"
                ],
                "toolset": "",
                "type": "cpp"
              }
            ],
            "target:.*x86.*": [
              {
                "flags": "",
                "source": [
                  "source/x86/*.asm"
                ],
                "toolset": "yasm",
                "type": "asm"
              },
              {
                "flags": "<cflags>",
                "include": "<includes>",
                "source": [
                  "source/x86/*.c"
                ],
                "toolset": "",
                "type": "c"
              }
            ],
            "target:.*arm.*" : [
              {
                "flags": [ "-march=armv7-a", "<cflags>" ],
                "include": "<includes>",
                "source": [
                  "source/arm/*.c"
                ],
                "toolset": "",
                "type": "c"
              }
            ]
          }
        },
        {
          "linker": {
            "target:.*": [
              {
                "input": [],
                "output": "<name>",
                "type": "static"
              }
            ]
          }
        },
        {
          "shell": {
            "target:.*": [
              {
                "command": "<copy_includes>"
              }
            ],
            "target:.*arm.*": [
              {
                "command": "<copy_includes>"
              }
            ]
          }
        }
      ]
    },
    "hal": {
      "dependency": [],
      "public": {},
      "build": {}
    }
  }
}
